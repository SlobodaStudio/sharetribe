.row
  - if @category_menu_enabled
    .col-3.visible-tablet
      - if @show_categories
        .row
          .col-12
            = link_to t("homepage.filters.all_categories"), ratings_path(category: "all"), :class => "home-categories-main #{if selected_category.nil? then 'selected' end}"
            - @main_categories.each do |category|
              - show_subcategories = show_subcategory_list(category, Maybe(selected_category).id.to_i.or_else(nil))
              = link_to category.display_name(I18n.locale), ratings_path(category: category), :class => "home-categories-main #{if show_subcategories then 'selected' end} #{if category.has_subcategories? then 'has-subcategories' end}", :data => {category: category.id}
              - if category.children
                - if show_subcategories
                  - category.children.each do |child|
                    - is_selected = selected_category == child
                    = link_to child.display_name(I18n.locale), ratings_path(category: child), :class => "home-categories-sub #{if is_selected then 'selected' end}", :data => {:"sub-category" =>child.id}

  - main_container_class = if @category_menu_enabled then "col-9" else "col-12" end
  %div{:class => main_container_class}
    .profile-testimonials-list
      - @persons.each do |person|
        = render :partial => "person_rating", locals: { person: person }
